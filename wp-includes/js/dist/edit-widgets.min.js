/*! This file is auto-generated */
this.wp=this.wp||{},this.wp.editWidgets=function(e){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="F35A")}({"//Lo":function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));t.a=i},"1CF3":function(e,t){e.exports=window.wp.dom},"1ZqX":function(e,t){e.exports=window.wp.data},"6aBm":function(e,t){e.exports=window.wp.mediaUtils},Cg8A:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=i},F35A:function(e,t,r){"use strict";r.r(t),r.d(t,"reinitializeEditor",(function(){return bt})),r.d(t,"initialize",(function(){return mt}));var n={};r.r(n),r.d(n,"persistStubPost",(function(){return k})),r.d(n,"saveEditedWidgetAreas",(function(){return S})),r.d(n,"saveWidgetAreas",(function(){return I})),r.d(n,"saveWidgetArea",(function(){return A})),r.d(n,"setWidgetIdForClientId",(function(){return T})),r.d(n,"setWidgetAreasOpenState",(function(){return B})),r.d(n,"setIsWidgetAreaOpen",(function(){return N})),r.d(n,"setIsInserterOpened",(function(){return C})),r.d(n,"setIsListViewOpened",(function(){return L})),r.d(n,"closeGeneralSidebar",(function(){return W})),r.d(n,"moveBlockToWidgetArea",(function(){return R}));var c={};r.r(c),r.d(c,"getWidgetAreas",(function(){return P})),r.d(c,"getWidgets",(function(){return F}));var i={};r.r(i),r.d(i,"getWidgets",(function(){return D})),r.d(i,"getWidget",(function(){return V})),r.d(i,"getWidgetAreas",(function(){return G})),r.d(i,"getWidgetAreaForWidgetId",(function(){return U})),r.d(i,"getParentWidgetAreaBlock",(function(){return z})),r.d(i,"getEditedWidgetAreas",(function(){return H})),r.d(i,"getReferenceWidgetBlocks",(function(){return q})),r.d(i,"isSavingWidgetAreas",(function(){return K})),r.d(i,"getIsWidgetAreaOpen",(function(){return Y})),r.d(i,"isInserterOpened",(function(){return Q})),r.d(i,"__experimentalGetInsertionPoint",(function(){return X})),r.d(i,"canInsertBlockInWidgetArea",(function(){return Z})),r.d(i,"isListViewOpened",(function(){return $}));var a={};r.r(a),r.d(a,"metadata",(function(){return ue})),r.d(a,"name",(function(){return be})),r.d(a,"settings",(function(){return me}));var o=r("GRId"),s=r("HSyU"),l=r("1ZqX"),d=r("QyPg"),u=r("jZUy"),b=r("GLVC"),m=r("U60i"),g=r("ywyh"),p=r.n(g);var O=Object(l.combineReducers)({blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},widgetAreasOpenState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const{type:r}=t;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":{const{clientId:r,isOpen:n}=t;return{...e,[r]:n}}default:return e}}}),j=r("l3Sj"),f=r("onLe"),_=r("axFQ");function h(e){if("block"===e.id_base){const t=Object(s.parse)(e.instance.raw.content);return t.length?Object(b.addWidgetIdToBlock)(t[0],e.id):Object(b.addWidgetIdToBlock)(Object(s.createBlock)("core/paragraph",{},[]),e.id)}let t;return t=e._embedded.about[0].is_multi?{idBase:e.id_base,instance:e.instance}:{id:e.id},Object(b.addWidgetIdToBlock)(Object(s.createBlock)("core/legacy-widget",t,[]),e.id)}function w(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="core/legacy-widget"===e.name&&(e.attributes.id||e.attributes.instance);var c,i,a;n?t={...r,id:null!==(c=e.attributes.id)&&void 0!==c?c:r.id,id_base:null!==(i=e.attributes.idBase)&&void 0!==i?i:r.id_base,instance:null!==(a=e.attributes.instance)&&void 0!==a?a:r.instance}:t={...r,id_base:"block",instance:{raw:{content:Object(s.serialize)(e)}}};return delete t.rendered,delete t.rendered_form,t}const E="root",v=e=>"widget-area-"+e;const y="core/edit-widgets",k=(e,t)=>r=>{let{registry:n}=r;const c=((e,t)=>({id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}))(e,t);return n.dispatch(u.store).receiveEntityRecords(E,"postType",c,{id:c.id},!1),c},S=()=>async e=>{let{select:t,dispatch:r,registry:n}=e;const c=t.getEditedWidgetAreas();if(null!=c&&c.length)try{await r.saveWidgetAreas(c),n.dispatch(f.store).createSuccessNotice(Object(j.__)("Widgets saved."),{type:"snackbar"})}catch(e){n.dispatch(f.store).createErrorNotice(Object(j.sprintf)(Object(j.__)("There was an error. %s"),e.message),{type:"snackbar"})}},I=e=>async t=>{let{dispatch:r,registry:n}=t;try{for(const t of e)await r.saveWidgetArea(t.id)}finally{await n.dispatch(u.store).finishResolution("getEntityRecord",E,"sidebar",{per_page:-1})}},A=e=>async t=>{let{dispatch:r,select:n,registry:c}=t;const i=n.getWidgets(),a=c.select(u.store).getEditedEntityRecord(E,"postType",v(e)),o=Object.values(i).filter(t=>{let{sidebar:r}=t;return r===e}),s=[],l=a.blocks.filter(e=>{const{id:t}=e.attributes;if("core/legacy-widget"===e.name&&t){if(s.includes(t))return!1;s.push(t)}return!0}),d=[];for(const e of o){n.getWidgetAreaForWidgetId(e.id)||d.push(e)}const m=[],g=[],p=[];for(let t=0;t<l.length;t++){const r=l[t],n=Object(b.getWidgetIdFromBlock)(r),a=i[n],o=w(r,a);if(p.push(n),a){c.dispatch(u.store).editEntityRecord("root","widget",n,{...o,sidebar:e},{undoIgnore:!0});if(!c.select(u.store).hasEditsForEntityRecord("root","widget",n))continue;g.push(e=>{let{saveEditedEntityRecord:t}=e;return t("root","widget",n)})}else g.push(t=>{let{saveEntityRecord:r}=t;return r("root","widget",{...o,sidebar:e})});m.push({block:r,position:t,clientId:r.clientId})}for(const e of d)g.push(t=>{let{deleteEntityRecord:r}=t;return r("root","widget",e.id,{force:!0})});const O=(await c.dispatch(u.store).__experimentalBatch(g)).filter(e=>!e.hasOwnProperty("deleted")),f=[];for(let e=0;e<O.length;e++){const t=O[e],{block:r,position:n}=m[e];a.blocks[n].attributes.__internalWidgetId=t.id;var _;if(c.select(u.store).getLastEntitySaveError("root","widget",t.id))f.push((null===(_=r.attributes)||void 0===_?void 0:_.name)||(null==r?void 0:r.name));p[n]||(p[n]=t.id)}if(f.length)throw new Error(Object(j.sprintf)(Object(j.__)("Could not save the following widgets: %s."),f.join(", ")));c.dispatch(u.store).editEntityRecord(E,"sidebar",e,{widgets:p},{undoIgnore:!0}),r(x(e)),c.dispatch(u.store).receiveEntityRecords(E,"postType",a,void 0)},x=e=>t=>{let{registry:r}=t;const n=r.select(u.store).getLastEntitySaveError(E,"sidebar",e);r.dispatch(u.store).saveEditedEntityRecord(E,"sidebar",e);const c=r.select(u.store).getLastEntitySaveError(E,"sidebar",e);if(c&&n!==c)throw new Error(c)};function T(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function B(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function N(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function C(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function L(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}const W=()=>e=>{let{registry:t}=e;t.dispatch(m.i).disableComplementaryArea(y)},R=(e,t)=>async r=>{let{dispatch:n,select:c,registry:i}=r;const a=i.select(_.store).getBlockRootClientId([e]),o=i.select(_.store).getBlocks().find(e=>{let{attributes:r}=e;return r.id===t}).clientId,s=i.select(_.store).getBlockOrder(o).length;c.getIsWidgetAreaOpen(o)||n.setIsWidgetAreaOpen(o,!0),i.dispatch(_.store).moveBlocksToPosition([e],a,o,s)},P=()=>async e=>{let{dispatch:t,registry:r}=e;const n={per_page:-1},c=[],i=(await r.resolveSelect(u.store).getEntityRecords(E,"sidebar",n)).sort((e,t)=>"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0);for(const e of i)c.push(Object(s.createBlock)("core/widget-area",{id:e.id,name:e.name})),e.widgets.length||t(k(v(e.id),[]));const a={};c.forEach((e,t)=>{a[e.clientId]=0===t}),t(B(a)),t(k("widget-areas",c))},F=()=>async e=>{let{dispatch:t,registry:r}=e;const n={per_page:-1,_embed:"about"},c=await r.resolveSelect(u.store).getEntityRecords("root","widget",n),i={};for(const e of c){const t=h(e);i[e.sidebar]=i[e.sidebar]||[],i[e.sidebar].push(t)}for(const e in i)i.hasOwnProperty(e)&&t(k(v(e),i[e]))};var M=r("YLtl");const D=Object(l.createRegistrySelector)(e=>()=>{const t=e(u.store).getEntityRecords("root","widget",{per_page:-1,_embed:"about"});return Object(M.keyBy)(t,"id")}),V=Object(l.createRegistrySelector)(e=>(t,r)=>e(y).getWidgets()[r]),G=Object(l.createRegistrySelector)(e=>()=>{const t={per_page:-1};return e(u.store).getEntityRecords(E,"sidebar",t)}),U=Object(l.createRegistrySelector)(e=>(t,r)=>e(y).getWidgetAreas().find(t=>e(u.store).getEditedEntityRecord(E,"postType",v(t.id)).blocks.map(e=>Object(b.getWidgetIdFromBlock)(e)).includes(r))),z=Object(l.createRegistrySelector)(e=>(t,r)=>{const{getBlock:n,getBlockName:c,getBlockParents:i}=e(_.store);return n(i(r).find(e=>"core/widget-area"===c(e)))}),H=Object(l.createRegistrySelector)(e=>(t,r)=>{let n=e(y).getWidgetAreas();return n?(r&&(n=n.filter(e=>{let{id:t}=e;return r.includes(t)})),n.filter(t=>{let{id:r}=t;return e(u.store).hasEditsForEntityRecord(E,"postType",v(r))}).map(t=>{let{id:r}=t;return e(u.store).getEditedEntityRecord(E,"sidebar",r)})):[]}),q=Object(l.createRegistrySelector)(e=>function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[],c=e(y).getWidgetAreas();for(const t of c){const c=e(u.store).getEditedEntityRecord(E,"postType",v(t.id));for(const e of c.blocks){var i;"core/legacy-widget"!==e.name||r&&(null===(i=e.attributes)||void 0===i?void 0:i.referenceWidgetName)!==r||n.push(e)}}return n}),K=Object(l.createRegistrySelector)(e=>()=>{var t;const r=null===(t=e(y).getWidgetAreas())||void 0===t?void 0:t.map(e=>{let{id:t}=e;return t});if(!r)return!1;for(const t of r){if(e(u.store).isSavingEntityRecord(E,"sidebar",t))return!0}const n=[...Object.keys(e(y).getWidgets()),void 0];for(const t of n){if(e(u.store).isSavingEntityRecord("root","widget",t))return!0}return!1}),Y=(e,t)=>{const{widgetAreasOpenState:r}=e;return!!r[t]};function Q(e){return!!e.blockInserterPanel}function X(e){const{rootClientId:t,insertionIndex:r}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:r}}const Z=Object(l.createRegistrySelector)(e=>(t,r)=>{const n=e(_.store).getBlocks(),[c]=n;return e(_.store).canInsertBlockType(r,c.clientId)});function $(e){return e.listViewPanel}const J={reducer:O,selectors:i,resolvers:c,actions:n,__experimentalUseThunks:!0},ee=Object(l.createReduxStore)(y,J);Object(l.registerStore)(y,J),p.a.use((function(e,t){var r;return 0===(null===(r=e.path)||void 0===r?void 0:r.indexOf("/wp/v2/types/widget-area"))?Promise.resolve({}):t(e)}));var te=r("K9lf"),re=r("g56x");const ne=Object(te.createHigherOrderComponent)(e=>t=>{const{clientId:r,name:n}=t,{widgetAreas:c,currentWidgetAreaId:i,canInsertBlockInWidgetArea:a}=Object(l.useSelect)(e=>{var t;if("core/widget-area"===n)return{};const c=e(ee),i=c.getParentWidgetAreaBlock(r);return{widgetAreas:c.getWidgetAreas(),currentWidgetAreaId:null==i||null===(t=i.attributes)||void 0===t?void 0:t.id,canInsertBlockInWidgetArea:c.canInsertBlockInWidgetArea(n)}},[r,n]),{moveBlockToWidgetArea:s}=Object(l.useDispatch)(ee),d=(null==c?void 0:c.length)>1,u="core/widget-area"!==n&&d&&a;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(e,t),u&&Object(o.createElement)(_.BlockControls,null,Object(o.createElement)(b.MoveToWidgetArea,{widgetAreas:c,currentWidgetAreaId:i,onSelect:e=>{s(t.clientId,e)}})))},"withMoveToWidgetAreaToolbarItem");Object(re.addFilter)("editor.BlockEdit","core/edit-widgets/block-edit",ne);var ce=r("6aBm");Object(re.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",()=>ce.MediaUpload);var ie=r("tI+e"),ae=r("TSYQ"),oe=r.n(ae);var se=e=>{const[t,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const{ownerDocument:t}=e.current;function n(e){i(e)}function c(){r(!1)}function i(t){e.current.contains(t.target)?r(!0):r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",c),t.addEventListener("dragenter",i),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",c),t.removeEventListener("dragenter",i)}},[]),t};function le(e){let{id:t}=e;const[r,n,c]=Object(u.useEntityBlockEditor)("root","postType"),i=Object(o.useRef)(),a=se(i),s=Object(_.useInnerBlocksProps)({ref:i},{value:r,onInput:n,onChange:c,templateLock:!1,renderAppender:_.InnerBlocks.ButtonBlockAppender});return Object(o.createElement)("div",{"data-widget-area-id":t,className:oe()("wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper",{"wp-block-widget-area__highlight-drop-zone":a})},Object(o.createElement)("div",s))}const de=e=>{const[t,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const{ownerDocument:t}=e.current;function n(){r(!0)}function c(){r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",c),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",c)}},[]),t},ue={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1,__experimentalParentSelector:!1},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"},{name:be}=ue,me={title:Object(j.__)("Widget Area"),description:Object(j.__)("A widget area container."),__experimentalLabel:e=>{let{name:t}=e;return t},edit:function(e){let{clientId:t,className:r,attributes:{id:n,name:c}}=e;const i=Object(l.useSelect)(e=>e(ee).getIsWidgetAreaOpen(t),[t]),{setIsWidgetAreaOpen:a}=Object(l.useDispatch)(ee),s=Object(o.useRef)(),d=Object(o.useCallback)(e=>a(t,e),[t]),b=de(s),m=se(s),[g,p]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{b?m&&!i?(d(!0),p(!0)):!m&&i&&g&&d(!1):p(!1)},[i,b,m,g]),Object(o.createElement)(ie.Panel,{className:r,ref:s},Object(o.createElement)(ie.PanelBody,{title:c,opened:i,onToggle:()=>{a(t,!i)},scrollAfterOpen:!b},e=>{let{opened:t}=e;return Object(o.createElement)(ie.__unstableDisclosureContent,{className:"wp-block-widget-area__panel-body-content",visible:t},Object(o.createElement)(u.EntityProvider,{kind:"root",type:"postType",id:"widget-area-"+n},Object(o.createElement)(le,{id:n})))}))}};var ge=r("TvNi");function pe(e){let{text:t,children:r}=e;const n=Object(te.useCopyToClipboard)(t);return Object(o.createElement)(ie.Button,{variant:"secondary",ref:n},r)}class Oe extends o.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}reboot(){this.props.onError()}render(){const{error:e}=this.state;return e?Object(o.createElement)(_.Warning,{className:"edit-widgets-error-boundary",actions:[Object(o.createElement)(ie.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},Object(j.__)("Attempt Recovery")),Object(o.createElement)(pe,{key:"copy-error",text:e.stack},Object(j.__)("Copy Error"))]},Object(j.__)("The editor has encountered an unexpected error.")):this.props.children}}var je=r("wx14"),fe=r("diJD"),_e=r("hF7m");function he(){const{redo:e,undo:t}=Object(l.useDispatch)(u.store),{saveEditedWidgetAreas:r}=Object(l.useDispatch)(ee);return Object(_e.useShortcut)("core/edit-widgets/undo",e=>{t(),e.preventDefault()}),Object(_e.useShortcut)("core/edit-widgets/redo",t=>{e(),t.preventDefault()}),Object(_e.useShortcut)("core/edit-widgets/save",e=>{e.preventDefault(),r()}),null}he.Register=function(){const{registerShortcut:e}=Object(l.useDispatch)(_e.store);return Object(o.useEffect)(()=>{e({name:"core/edit-widgets/undo",category:"global",description:Object(j.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:Object(j.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"core/edit-widgets/save",category:"global",description:Object(j.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-widgets/keyboard-shortcuts",category:"main",description:Object(j.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-widgets/next-region",category:"global",description:Object(j.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-widgets/previous-region",category:"global",description:Object(j.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"}]})},[e]),null};var we=he;var Ee=()=>Object(l.useSelect)(e=>{var t;const{getBlockSelectionEnd:r,getBlockName:n}=e(_.store),c=r();if("core/widget-area"===n(c))return c;const{getParentWidgetAreaBlock:i}=e(ee),a=i(c),o=null==a?void 0:a.clientId;if(o)return o;const{getEntityRecord:s}=e(u.store),l=s(E,"postType","widget-areas");return null==l||null===(t=l.blocks[0])||void 0===t?void 0:t.clientId},[]);function ve(e){let{blockEditorSettings:t,children:r,...n}=e;const{hasUploadPermissions:c,reusableBlocks:i,isFixedToolbarActive:a,keepCaretInsideBlock:s}=Object(l.useSelect)(e=>({hasUploadPermissions:Object(M.defaultTo)(e(u.store).canUser("create","media"),!0),widgetAreas:e(ee).getWidgetAreas(),widgets:e(ee).getWidgets(),reusableBlocks:[],isFixedToolbarActive:e(m.i).isFeatureActive("core/edit-widgets","fixedToolbar"),keepCaretInsideBlock:e(m.i).isFeatureActive("core/edit-widgets","keepCaretInsideBlock")}),[]),{setIsInserterOpened:d}=Object(l.useDispatch)(ee),b=Object(o.useMemo)(()=>{let e;return c&&(e=e=>{let{onError:r,...n}=e;Object(ce.uploadMedia)({wpAllowedMimeTypes:t.allowedMimeTypes,onError:e=>{let{message:t}=e;return r(t)},...n})}),{...t,__experimentalReusableBlocks:i,hasFixedToolbar:a,keepCaretInsideBlock:s,mediaUpload:e,templateLock:"all",__experimentalSetIsInserterOpened:d}},[t,a,s,c,i,d]),g=Ee(),[p,O,j]=Object(u.useEntityBlockEditor)(E,"postType",{id:"widget-areas"});return Object(o.createElement)(_e.ShortcutProvider,null,Object(o.createElement)(_.BlockEditorKeyboardShortcuts.Register,null),Object(o.createElement)(we.Register,null),Object(o.createElement)(ie.SlotFillProvider,null,Object(o.createElement)(_.BlockEditorProvider,Object(je.a)({value:p,onInput:O,onChange:j,settings:b,useSubRegistry:!1},n),Object(o.createElement)(_.CopyHandler,null,r),Object(o.createElement)(fe.ReusableBlocksMenuItems,{rootClientId:g}))))}var ye=r("Cg8A"),ke=r("//Lo"),Se=r("Mmq9"),Ie=r("1CF3");function Ae(e){let{selectedWidgetAreaId:t}=e;const r=Object(l.useSelect)(e=>e(ee).getWidgetAreas(),[]),n=Object(o.useMemo)(()=>t&&(null==r?void 0:r.find(e=>e.id===t)),[t,r]);let c;return c=n?"wp_inactive_widgets"===t?Object(j.__)("Blocks in this Widget Area will not be displayed in your site."):n.description:Object(j.__)("Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer."),Object(o.createElement)("div",{className:"edit-widgets-widget-areas"},Object(o.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},Object(o.createElement)(_.BlockIcon,{icon:ke.a}),Object(o.createElement)("div",null,Object(o.createElement)("p",{dangerouslySetInnerHTML:{__html:Object(Ie.safeHTML)(c)}}),0===(null==r?void 0:r.length)&&Object(o.createElement)("p",null,Object(j.__)("Your theme does not contain any Widget Areas.")),!n&&Object(o.createElement)(ie.Button,{href:Object(Se.addQueryArgs)("customize.php",{"autofocus[panel]":"widgets",return:window.location.pathname}),variant:"tertiary"},Object(j.__)("Manage with live preview")))))}const xe=o.Platform.select({web:!0,native:!1});function Te(e){let{identifier:t,label:r,isActive:n}=e;const{enableComplementaryArea:c}=Object(l.useDispatch)(m.i);return Object(o.createElement)(ie.Button,{onClick:()=>c(ee.name,t),className:oe()("edit-widgets-sidebar__panel-tab",{"is-active":n}),"aria-label":n?Object(j.sprintf)(Object(j.__)("%s (selected)"),r):r,"data-label":r},r)}function Be(){const{enableComplementaryArea:e}=Object(l.useDispatch)(m.i),{currentArea:t,hasSelectedNonAreaBlock:r,isGeneralSidebarOpen:n,selectedWidgetAreaBlock:c}=Object(l.useSelect)(e=>{const{getSelectedBlock:t,getBlock:r,getBlockParentsByBlockName:n}=e(_.store),{getActiveComplementaryArea:c}=e(m.i),i=t(),a=c(ee.name);let o,s=a;return s||(s=i?"edit-widgets/block-inspector":"edit-widgets/block-areas"),i&&(o="core/widget-area"===i.name?i:r(n(i.clientId,"core/widget-area")[0])),{currentArea:s,hasSelectedNonAreaBlock:!(!i||"core/widget-area"===i.name),isGeneralSidebarOpen:!!a,selectedWidgetAreaBlock:o}},[]);return Object(o.useEffect)(()=>{r&&"edit-widgets/block-areas"===t&&n&&e("core/edit-widgets","edit-widgets/block-inspector"),!r&&"edit-widgets/block-inspector"===t&&n&&e("core/edit-widgets","edit-widgets/block-areas")},[r,e]),Object(o.createElement)(m.b,{className:"edit-widgets-sidebar",header:Object(o.createElement)("ul",null,Object(o.createElement)("li",null,Object(o.createElement)(Te,{identifier:"edit-widgets/block-areas",label:c?c.attributes.name:Object(j.__)("Widget Areas"),isActive:"edit-widgets/block-areas"===t})),Object(o.createElement)("li",null,Object(o.createElement)(Te,{identifier:"edit-widgets/block-inspector",label:Object(j.__)("Block"),isActive:"edit-widgets/block-inspector"===t}))),headerClassName:"edit-widgets-sidebar__panel-tabs",title:Object(j.__)("Settings"),closeLabel:Object(j.__)("Close settings"),scope:"core/edit-widgets",identifier:t,icon:ye.a,isActiveByDefault:xe},"edit-widgets/block-areas"===t&&Object(o.createElement)(Ae,{selectedWidgetAreaId:null==c?void 0:c.attributes.id}),"edit-widgets/block-inspector"===t&&(r?Object(o.createElement)(_.BlockInspector,null):Object(o.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},Object(j.__)("No block selected."))))}var Ne=r("Q4Sy"),Ce=r("OzlF");var Le=function(){const{hasEditedWidgetAreaIds:e,isSaving:t}=Object(l.useSelect)(e=>{var t;const{getEditedWidgetAreas:r,isSavingWidgetAreas:n}=e(ee);return{hasEditedWidgetAreaIds:(null===(t=r())||void 0===t?void 0:t.length)>0,isSaving:n()}},[]),{saveEditedWidgetAreas:r}=Object(l.useDispatch)(ee);return Object(o.createElement)(ie.Button,{variant:"primary",isBusy:t,"aria-disabled":t,onClick:t?void 0:r,disabled:!e},t?Object(j.__)("Saving…"):Object(j.__)("Update"))},We=r("Ntru"),Re=r("K2cm"),Pe=r("RxS6");function Fe(){const e=Object(l.useSelect)(e=>e(u.store).hasUndo(),[]),{undo:t}=Object(l.useDispatch)(u.store);return Object(o.createElement)(ie.ToolbarButton,{icon:Object(j.isRTL)()?Re.a:We.a,label:Object(j.__)("Undo"),shortcut:Pe.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Me(){const e=Object(l.useSelect)(e=>e(u.store).hasRedo(),[]),{redo:t}=Object(l.useDispatch)(u.store);return Object(o.createElement)(ie.ToolbarButton,{icon:Object(j.isRTL)()?We.a:Re.a,label:Object(j.__)("Redo"),shortcut:Pe.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var De=r("K+tz");const Ve=[{keyCombination:{modifier:"primary",character:"b"},description:Object(j.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:Object(j.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:Object(j.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:Object(j.__)("Remove a link.")},{keyCombination:{modifier:"primary",character:"u"},description:Object(j.__)("Underline the selected text.")}];function Ge(e){let{keyCombination:t,forceAriaLabel:r}=e;const n=t.modifier?Pe.displayShortcutList[t.modifier](t.character):t.character,c=t.modifier?Pe.shortcutAriaLabel[t.modifier](t.character):t.character;return Object(o.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":r||c},Object(M.castArray)(n).map((e,t)=>"+"===e?Object(o.createElement)(o.Fragment,{key:t},e):Object(o.createElement)("kbd",{key:t,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},e)))}var Ue=function(e){let{description:t,keyCombination:r,aliases:n=[],ariaLabel:c}=e;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},t),Object(o.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},Object(o.createElement)(Ge,{keyCombination:r,forceAriaLabel:c}),n.map((e,t)=>Object(o.createElement)(Ge,{keyCombination:e,forceAriaLabel:c,key:t}))))};var ze=function(e){let{name:t}=e;const{keyCombination:r,description:n,aliases:c}=Object(l.useSelect)(e=>{const{getShortcutKeyCombination:r,getShortcutDescription:n,getShortcutAliases:c}=e(_e.store);return{keyCombination:r(t),aliases:c(t),description:n(t)}},[t]);return r?Object(o.createElement)(Ue,{keyCombination:r,description:n,aliases:c}):null};const He=e=>{let{shortcuts:t}=e;return Object(o.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},t.map((e,t)=>Object(o.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:t},Object(M.isString)(e)?Object(o.createElement)(ze,{name:e}):Object(o.createElement)(Ue,e))))},qe=e=>{let{title:t,shortcuts:r,className:n}=e;return Object(o.createElement)("section",{className:oe()("edit-widgets-keyboard-shortcut-help-modal__section",n)},!!t&&Object(o.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},t),Object(o.createElement)(He,{shortcuts:r}))},Ke=e=>{let{title:t,categoryName:r,additionalShortcuts:n=[]}=e;const c=Object(l.useSelect)(e=>e(_e.store).getCategoryShortcuts(r),[r]);return Object(o.createElement)(qe,{title:t,shortcuts:c.concat(n)})};function Ye(e){let{isModalActive:t,toggleModal:r}=e;return Object(_e.useShortcut)("core/edit-widgets/keyboard-shortcuts",r,{bindGlobal:!0}),t?Object(o.createElement)(ie.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:Object(j.__)("Keyboard shortcuts"),closeLabel:Object(j.__)("Close"),onRequestClose:r},Object(o.createElement)(qe,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-widgets/keyboard-shortcuts"]}),Object(o.createElement)(Ke,{title:Object(j.__)("Global shortcuts"),categoryName:"global"}),Object(o.createElement)(Ke,{title:Object(j.__)("Selection shortcuts"),categoryName:"selection"}),Object(o.createElement)(Ke,{title:Object(j.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:Object(j.__)("Change the block type after adding a new paragraph."),ariaLabel:Object(j.__)("Forward-slash")}]}),Object(o.createElement)(qe,{title:Object(j.__)("Text formatting"),shortcuts:Ve})):null}function Qe(){const[e,t]=Object(o.useState)(!1),r=()=>t(!e);Object(_e.useShortcut)("core/edit-widgets/keyboard-shortcuts",r);const n=Object(te.useViewportMatch)("medium");return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(m.f,null,()=>Object(o.createElement)(o.Fragment,null,n&&Object(o.createElement)(ie.MenuGroup,{label:Object(j._x)("View","noun")},Object(o.createElement)(m.g,{scope:"core/edit-widgets",feature:"fixedToolbar",label:Object(j.__)("Top toolbar"),info:Object(j.__)("Access all block and document tools in a single place"),messageActivated:Object(j.__)("Top toolbar activated"),messageDeactivated:Object(j.__)("Top toolbar deactivated")})),Object(o.createElement)(ie.MenuGroup,{label:Object(j.__)("Tools")},Object(o.createElement)(ie.MenuItem,{onClick:()=>{t(!0)},shortcut:Pe.displayShortcut.access("h")},Object(j.__)("Keyboard shortcuts")),Object(o.createElement)(m.g,{scope:"core/edit-widgets",feature:"welcomeGuide",label:Object(j.__)("Welcome Guide")}),Object(o.createElement)(ie.MenuItem,{role:"menuitem",icon:De.a,href:Object(j.__)("https://wordpress.org/support/article/block-based-widgets-editor/"),target:"_blank",rel:"noopener noreferrer"},Object(j.__)("Help"),Object(o.createElement)(ie.VisuallyHidden,{as:"span"},Object(j.__)("(opens in a new tab)")))),Object(o.createElement)(ie.MenuGroup,{label:Object(j.__)("Preferences")},Object(o.createElement)(m.g,{scope:"core/edit-widgets",feature:"keepCaretInsideBlock",label:Object(j.__)("Contain text cursor inside block"),info:Object(j.__)("Aids screen readers by stopping text caret from leaving blocks."),messageActivated:Object(j.__)("Contain text cursor inside block activated"),messageDeactivated:Object(j.__)("Contain text cursor inside block deactivated")}),Object(o.createElement)(m.g,{scope:"core/edit-widgets",feature:"themeStyles",info:Object(j.__)("Make the editor look like your theme."),label:Object(j.__)("Use theme styles")}),n&&Object(o.createElement)(m.g,{scope:"core/edit-widgets",feature:"showBlockBreadcrumbs",label:Object(j.__)("Display block breadcrumbs"),info:Object(j.__)("Shows block breadcrumbs at the bottom of the editor."),messageActivated:Object(j.__)("Display block breadcrumbs activated"),messageDeactivated:Object(j.__)("Display block breadcrumbs deactivated")})))),Object(o.createElement)(Ye,{isModalActive:e,toggleModal:r}))}var Xe=function(){const e=Object(te.useViewportMatch)("medium"),t=Object(o.useRef)(),r=Ee(),n=Object(l.useSelect)(e=>e(ee).getIsWidgetAreaOpen(r),[r]),{isInserterOpen:c,isListViewOpen:i}=Object(l.useSelect)(e=>{const{isInserterOpened:t,isListViewOpened:r}=e(ee);return{isInserterOpen:t(),isListViewOpen:r()}},[]),{setIsWidgetAreaOpen:a,setIsInserterOpened:s,setIsListViewOpened:d}=Object(l.useDispatch)(ee),{selectBlock:u}=Object(l.useDispatch)(_.store),b=Object(o.useCallback)(()=>d(!i),[d,i]);return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:"edit-widgets-header"},Object(o.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},e&&Object(o.createElement)("h1",{className:"edit-widgets-header__title"},Object(j.__)("Widgets")),!e&&Object(o.createElement)(ie.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},Object(j.__)("Widgets")),Object(o.createElement)(_.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":Object(j.__)("Document tools")},Object(o.createElement)(ie.ToolbarItem,{ref:t,as:ie.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:c,onMouseDown:e=>{e.preventDefault()},onClick:()=>{c?s(!1):(n||(u(r),a(r,!0)),window.requestAnimationFrame(()=>s(!0)))},icon:Ne.a,label:Object(j._x)("Toggle block inserter","Generic label for block inserter button")}),e&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(Fe,null),Object(o.createElement)(Me,null),Object(o.createElement)(ie.ToolbarItem,{as:ie.Button,className:"edit-widgets-header-toolbar__list-view-toggle",icon:Ce.a,isPressed:i,label:Object(j.__)("List View"),onClick:b})))),Object(o.createElement)("div",{className:"edit-widgets-header__actions"},Object(o.createElement)(Le,null),Object(o.createElement)(m.h.Slot,{scope:"core/edit-widgets"}),Object(o.createElement)(Qe,null))))};var Ze=function(){const{removeNotice:e}=Object(l.useDispatch)(f.store),{notices:t}=Object(l.useSelect)(e=>({notices:e(f.store).getNotices()}),[]),r=Object(M.filter)(t,{isDismissible:!0,type:"default"}),n=Object(M.filter)(t,{isDismissible:!1,type:"default"}),c=Object(M.filter)(t,{type:"snackbar"});return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(ie.NoticeList,{notices:n,className:"edit-widgets-notices__pinned"}),Object(o.createElement)(ie.NoticeList,{notices:r,className:"edit-widgets-notices__dismissible",onRemove:e}),Object(o.createElement)(ie.SnackbarList,{notices:c,className:"edit-widgets-notices__snackbar",onRemove:e}))};function $e(e){let{blockEditorSettings:t}=e;const r=Object(l.useSelect)(e=>e(m.i).isFeatureActive("core/edit-widgets","themeStyles"),[]),n=Object(o.useMemo)(()=>r?t.styles:[],[t,r]);return Object(o.createElement)("div",{className:"edit-widgets-block-editor"},Object(o.createElement)(Ze,null),Object(o.createElement)(_.BlockTools,null,Object(o.createElement)(we,null),Object(o.createElement)(_.__unstableEditorStyles,{styles:n}),Object(o.createElement)(_.BlockSelectionClearer,null,Object(o.createElement)(_.WritingFlow,null,Object(o.createElement)(_.ObserveTyping,null,Object(o.createElement)(_.BlockList,{className:"edit-widgets-main-block-list"}))))))}var Je=r("w95h");var et=()=>{const e=Object(l.useSelect)(e=>{var t;const{getEntityRecord:r}=e(u.store),n=r(E,"postType","widget-areas");return null==n||null===(t=n.blocks[0])||void 0===t?void 0:t.clientId},[]);return Object(l.useSelect)(t=>{const{getBlockRootClientId:r,getBlockSelectionEnd:n,getBlockOrder:c,getBlockIndex:i}=t(_.store),a=t(ee).__experimentalGetInsertionPoint();if(a.rootClientId)return a;const o=n()||e,s=r(o);return o&&""===s?{rootClientId:o,insertionIndex:c(o).length}:{rootClientId:s,insertionIndex:i(o)+1}},[e])};function tt(){const e=Object(te.useViewportMatch)("medium","<"),{rootClientId:t,insertionIndex:r}=et(),{setIsInserterOpened:n}=Object(l.useDispatch)(ee),c=Object(o.useCallback)(()=>()=>n(!1),[n]),[i,a]=Object(te.__experimentalUseDialog)({onClose:c});return Object(o.createElement)("div",Object(je.a)({ref:i},a,{className:"edit-widgets-layout__inserter-panel"}),Object(o.createElement)("div",{className:"edit-widgets-layout__inserter-panel-header"},Object(o.createElement)(ie.Button,{icon:Je.a,onClick:c})),Object(o.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},Object(o.createElement)(_.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:e,rootClientId:t,__experimentalInsertionIndex:r})))}var rt=r("bWcr");function nt(){const{setIsListViewOpened:e}=Object(l.useDispatch)(ee),{clearSelectedBlock:t,selectBlock:r}=Object(l.useDispatch)(_.store);const n=Object(te.useFocusOnMount)("firstElement"),c=Object(te.useFocusReturn)();const i="edit-widgets-editor__list-view-panel-label-"+Object(te.useInstanceId)(nt);return Object(o.createElement)("div",{"aria-labelledby":i,className:"edit-widgets-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==Pe.ESCAPE||t.defaultPrevented||(t.preventDefault(),e(!1))}},Object(o.createElement)("div",{className:"edit-widgets-editor__list-view-panel-header"},Object(o.createElement)("strong",{id:i},Object(j.__)("List view")),Object(o.createElement)(ie.Button,{icon:rt.a,label:Object(j.__)("Close list view sidebar"),onClick:()=>e(!1)})),Object(o.createElement)("div",{className:"edit-widgets-editor__list-view-panel-content",ref:Object(te.useMergeRefs)([c,n])},Object(o.createElement)(_.__experimentalListView,{onSelect:async function(e){await t(),r(e,-1)},showNestedBlocks:!0,__experimentalHideContainerBlockActions:!0,__experimentalFeatures:!0,__experimentalPersistentListViewFeatures:!0})))}function ct(){const{isInserterOpen:e,isListViewOpen:t}=Object(l.useSelect)(e=>{const{isInserterOpened:t,isListViewOpened:r}=e(ee);return{isInserterOpen:t(),isListViewOpen:r()}},[]);return e?Object(o.createElement)(tt,null):t?Object(o.createElement)(nt,null):null}const it={header:Object(j.__)("Widgets top bar"),body:Object(j.__)("Widgets and blocks"),sidebar:Object(j.__)("Widgets settings"),footer:Object(j.__)("Widgets footer")};var at=function(e){let{blockEditorSettings:t}=e;const r=Object(te.useViewportMatch)("medium","<"),n=Object(te.useViewportMatch)("huge",">="),{setIsInserterOpened:c,setIsListViewOpened:i,closeGeneralSidebar:a}=Object(l.useDispatch)(ee),{hasBlockBreadCrumbsEnabled:s,hasSidebarEnabled:d,isInserterOpened:u,isListViewOpened:b,previousShortcut:g,nextShortcut:p}=Object(l.useSelect)(e=>({hasSidebarEnabled:!!e(m.i).getActiveComplementaryArea(ee.name),isInserterOpened:!!e(ee).isInserterOpened(),isListViewOpened:!!e(ee).isListViewOpened(),hasBlockBreadCrumbsEnabled:e(m.i).isFeatureActive("core/edit-widgets","showBlockBreadcrumbs"),previousShortcut:e(_e.store).getAllShortcutKeyCombinations("core/edit-widgets/previous-region"),nextShortcut:e(_e.store).getAllShortcutKeyCombinations("core/edit-widgets/next-region")}),[]);Object(o.useEffect)(()=>{d&&!n&&(c(!1),i(!1))},[d,n]),Object(o.useEffect)(()=>{!u&&!b||n||a()},[u,b,n]);const O=b||u;return Object(o.createElement)(m.e,{labels:it,header:Object(o.createElement)(Xe,null),secondarySidebar:O&&Object(o.createElement)(ct,null),sidebar:d&&Object(o.createElement)(m.b.Slot,{scope:"core/edit-widgets"}),content:Object(o.createElement)($e,{blockEditorSettings:t}),footer:s&&!r&&Object(o.createElement)("div",{className:"edit-widgets-layout__footer"},Object(o.createElement)(_.BlockBreadcrumb,{rootLabelText:Object(j.__)("Widgets")})),shortcuts:{previous:g,next:p}})};function ot(){const e=Object(l.useSelect)(e=>{const{getEditedWidgetAreas:t}=e(ee),r=t();return(null==r?void 0:r.length)>0},[]);return Object(o.useEffect)(()=>{const t=t=>{if(e)return t.returnValue=Object(j.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),null}function st(){var e;const t=Object(l.useSelect)(e=>e(m.i).isFeatureActive("core/edit-widgets","welcomeGuide"),[]),{toggleFeature:r}=Object(l.useDispatch)(m.i),n=Object(l.useSelect)(e=>e(ee).getWidgetAreas({per_page:-1}),[]);if(!t)return null;const c=null==n?void 0:n.every(e=>"wp_inactive_widgets"===e.id||e.widgets.every(e=>e.startsWith("block-"))),i=null!==(e=null==n?void 0:n.filter(e=>"wp_inactive_widgets"!==e.id).length)&&void 0!==e?e:0;return Object(o.createElement)(ie.Guide,{className:"edit-widgets-welcome-guide",contentLabel:Object(j.__)("Welcome to block Widgets"),finishButtonText:Object(j.__)("Get started"),onFinish:()=>r("core/edit-widgets","welcomeGuide"),pages:[{image:Object(o.createElement)(lt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(j.__)("Welcome to block Widgets")),c?Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(j.sprintf)(Object(j._n)("Your theme provides %s “block” area for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.","Your theme provides %s different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.",i),i))):Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(j.__)("You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(o.createElement)("strong",null,Object(j.__)("Want to stick with the old widgets?"))," ",Object(o.createElement)(ie.ExternalLink,{href:Object(j.__)("https://wordpress.org/plugins/classic-widgets/")},Object(j.__)("Get the Classic Widgets plugin.")))))},{image:Object(o.createElement)(lt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(j.__)("Make each block your own")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(j.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:Object(o.createElement)(lt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(j.__)("Get to know the block library")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(o.createInterpolateElement)(Object(j.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:Object(o.createElement)("img",{className:"edit-widgets-welcome-guide__inserter-icon",alt:Object(j.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:Object(o.createElement)(lt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(j.__)("Learn how to use the block editor")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(j.__)("New to the block editor? Want to learn more about using it? "),Object(o.createElement)(ie.ExternalLink,{href:Object(j.__)("https://wordpress.org/support/article/wordpress-editor/")},Object(j.__)("Here's a detailed guide."))))}]})}function lt(e){let{nonAnimatedSrc:t,animatedSrc:r}=e;return Object(o.createElement)("picture",{className:"edit-widgets-welcome-guide__image"},Object(o.createElement)("source",{srcSet:t,media:"(prefers-reduced-motion: reduce)"}),Object(o.createElement)("img",{src:r,width:"312",height:"240",alt:""}))}var dt=function(e){let{blockEditorSettings:t,onError:r}=e;return Object(o.createElement)(Oe,{onError:r},Object(o.createElement)(ve,{blockEditorSettings:t},Object(o.createElement)(at,{blockEditorSettings:t}),Object(o.createElement)(Be,null),Object(o.createElement)(ie.Popover.Slot,null),Object(o.createElement)(ge.PluginArea,null),Object(o.createElement)(ot,null),Object(o.createElement)(st,null)))};const ut=["core/more","core/freeform","core/template-part","core/block"];function bt(e,t){Object(o.unmountComponentAtNode)(e);const r=bt.bind(null,e,t);Object(o.render)(Object(o.createElement)(dt,{blockEditorSettings:t,onError:r}),e)}function mt(e,t){const r=document.getElementById(e),n=bt.bind(null,r,t),c=Object(d.__experimentalGetCoreBlocks)().filter(e=>!(ut.includes(e.name)||e.name.startsWith("core/post")||e.name.startsWith("core/query")||e.name.startsWith("core/site")||e.name.startsWith("core/navigation")));Object(l.dispatch)(m.i).setFeatureDefaults("core/edit-widgets",{fixedToolbar:!1,welcomeGuide:!0,showBlockBreadcrumbs:!0,themeStyles:!0}),Object(l.dispatch)(s.store).__experimentalReapplyBlockTypeFilters(),Object(d.registerCoreBlocks)(c),Object(b.registerLegacyWidgetBlock)(),Object(b.registerLegacyWidgetVariations)(t),gt(a),Object(b.registerWidgetGroupBlock)(),t.__experimentalFetchLinkSuggestions=(e,r)=>Object(u.__experimentalFetchLinkSuggestions)(e,r,t),Object(s.setFreeformContentHandlerName)("core/html"),Object(o.render)(Object(o.createElement)(dt,{blockEditorSettings:t,onError:n}),r)}const gt=e=>{if(!e)return;const{metadata:t,settings:r,name:n}=e;t&&Object(s.unstable__bootstrapServerSideBlockDefinitions)({[n]:t}),Object(s.registerBlockType)(n,r)}},GLVC:function(e,t){e.exports=window.wp.widgets},GRId:function(e,t){e.exports=window.wp.element},HSyU:function(e,t){e.exports=window.wp.blocks},"K+tz":function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));t.a=i},K2cm:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));t.a=i},K9lf:function(e,t){e.exports=window.wp.compose},KEfo:function(e,t){e.exports=window.wp.viewport},Mmq9:function(e,t){e.exports=window.wp.url},Ntru:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));t.a=i},OzlF:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(n.createElement)(c.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));t.a=i},Q4Sy:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=i},QyPg:function(e,t){e.exports=window.wp.blockLibrary},RMJe:function(e,t,r){"use strict";var n=r("GRId"),c=r("Tqx9");const i=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=i},RxS6:function(e,t){e.exports=window.wp.keycodes},TSYQ:function(e,t,r){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";r.r(n),r.d(n,{initialize:function(){return _r},initializeEditor:function(){return hr},reinitializeEditor:function(){return wr}});var e={};r.r(e),r.d(e,{closeModal:function(){return F},disableComplementaryArea:function(){return L},enableComplementaryArea:function(){return T},openModal:function(){return V},pinItem:function(){return P},setDefaultComplementaryArea:function(){return W},setFeatureDefaults:function(){return D},setFeatureValue:function(){return M},toggleFeature:function(){return O},unpinItem:function(){return R}});var t={};r.r(t),r.d(t,{getActiveComplementaryArea:function(){return G},isComplementaryAreaLoading:function(){return z},isFeatureActive:function(){return U},isItemPinned:function(){return H},isModalActive:function(){return $}});var a={};r.r(a),r.d(a,{closeGeneralSidebar:function(){return Le},moveBlockToWidgetArea:function(){return Pe},persistStubPost:function(){return ke},saveEditedWidgetAreas:function(){return Se},saveWidgetArea:function(){return Ie},saveWidgetAreas:function(){return Ae},setIsInserterOpened:function(){return We},setIsListViewOpened:function(){return Te},setIsWidgetAreaOpen:function(){return xe},setWidgetAreasOpenState:function(){return Ne},setWidgetIdForClientId:function(){return Be}});var i={};r.r(i),r.d(i,{getWidgetAreas:function(){return Re},getWidgets:function(){return Oe}});var o={};r.r(o),r.d(o,{__experimentalGetInsertionPoint:function(){return Ye},canInsertBlockInWidgetArea:function(){return Ke},getEditedWidgetAreas:function(){return ze},getIsWidgetAreaOpen:function(){return $e},getParentWidgetAreaBlock:function(){return Ge},getReferenceWidgetBlocks:function(){return He},getWidget:function(){return De},getWidgetAreaForWidgetId:function(){return Fe},getWidgetAreas:function(){return Ve},getWidgets:function(){return Me},isInserterOpened:function(){return je},isListViewOpened:function(){return Ze},isSavingWidgetAreas:function(){return Ue}});var s={};r.r(s),r.d(s,{metadata:function(){return at},name:function(){return it},settings:function(){return ot}});var c=window.wp.element,l=window.wp.blocks,d=window.wp.data,u=window.wp.deprecated,m=r.n(u),g=window.wp.blockLibrary,p=window.wp.coreData,h=window.wp.widgets,_=window.wp.preferences,w=window.wp.apiFetch,f=r.n(w);var E=(0,d.combineReducers)({blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},widgetAreasOpenState:function(e={},t){const{type:r}=t;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":{const{clientId:r,isOpen:n}=t;return{...e,[r]:n}}default:return e}}}),b=window.wp.i18n,v=window.wp.notices,y=r(4403),k=r.n(y),S=window.wp.components,A=window.wp.primitives;var I=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var C=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));var B=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),N=window.wp.viewport;var x=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));const W=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),T=(e,t)=>({registry:r,dispatch:n})=>{if(!t)return;r.select(_.store).get(e,"isComplementaryAreaVisible")||r.dispatch(_.store).set(e,"isComplementaryAreaVisible",!0),n({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t})},L=e=>({registry:t})=>{t.select(_.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(_.store).set(e,"isComplementaryAreaVisible",!1)},P=(e,t)=>({registry:r})=>{if(!t)return;const n=r.select(_.store).get(e,"pinnedItems");!0!==n?.[t]&&r.dispatch(_.store).set(e,"pinnedItems",{...n,[t]:!0})},R=(e,t)=>({registry:r})=>{if(!t)return;const n=r.select(_.store).get(e,"pinnedItems");r.dispatch(_.store).set(e,"pinnedItems",{...n,[t]:!1})};function O(e,t){return function({registry:r}){m()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(_.store).toggle(e,t)}}function M(e,t,r){return function({registry:n}){m()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(_.store).set(e,t,!!r)}}function D(e,t){return function({registry:r}){m()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(_.store).setDefaults(e,t)}}function V(e){return{type:"OPEN_MODAL",name:e}}function F(){return{type:"CLOSE_MODAL"}}const G=(0,d.createRegistrySelector)((e=>(t,r)=>{const n=e(_.store).get(r,"isComplementaryAreaVisible");if(void 0!==n)return!1===n?null:t?.complementaryAreas?.[r]})),z=(0,d.createRegistrySelector)((e=>(t,r)=>{const n=e(_.store).get(r,"isComplementaryAreaVisible"),a=t?.complementaryAreas?.[r];return n&&void 0===a})),H=(0,d.createRegistrySelector)((e=>(t,r,n)=>{var a;const i=e(_.store).get(r,"pinnedItems");return null===(a=i?.[n])||void 0===a||a})),U=(0,d.createRegistrySelector)((e=>(t,r,n)=>(m()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(_.store).get(r,n))));function $(e,t){return e.activeModal===t}var j=(0,d.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return e[r]?e:{...e,[r]:n}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return{...e,[r]:n}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}});const Y=(0,d.createReduxStore)("core/interface",{reducer:j,actions:e,selectors:t});(0,d.register)(Y);var K=window.wp.plugins,Z=(0,K.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})));var q=Z((function({as:e=S.Button,scope:t,identifier:r,icon:n,selectedIcon:a,name:i,...o}){const s=e,l=(0,d.useSelect)((e=>e(Y).getActiveComplementaryArea(t)===r),[r]),{enableComplementaryArea:u,disableComplementaryArea:m}=(0,d.useDispatch)(Y);return(0,c.createElement)(s,{icon:a&&l?a:n,onClick:()=>{l?m(t):u(t,r)},...o})}));var Q=({smallScreenTitle:e,children:t,className:r,toggleButtonProps:n})=>{const a=(0,c.createElement)(q,{icon:x,...n});return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,c.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,c.createElement)("div",{className:k()("components-panel__header","interface-complementary-area-header",r),tabIndex:-1},t,a))};const J=()=>{};function X({name:e,as:t=S.Button,onClick:r,...n}){return(0,c.createElement)(S.Fill,{name:e},(({onClick:e})=>(0,c.createElement)(t,{onClick:r||e?(...t)=>{(r||J)(...t),(e||J)(...t)}:void 0,...n})))}X.Slot=function({name:e,as:t=S.ButtonGroup,fillProps:r={},bubblesVirtually:n,...a}){return(0,c.createElement)(S.Slot,{name:e,bubblesVirtually:n,fillProps:r},(e=>{if(!c.Children.toArray(e).length)return null;const r=[];c.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&r.push(t)}));const n=c.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&r.includes(e.props.__unstableTarget)?null:e));return(0,c.createElement)(t,{...a},n)}))};var ee=X;const te=({__unstableExplicitMenuItem:e,__unstableTarget:t,...r})=>(0,c.createElement)(S.MenuItem,{...r});function re({scope:e,target:t,__unstableExplicitMenuItem:r,...n}){return(0,c.createElement)(q,{as:n=>(0,c.createElement)(ee,{__unstableExplicitMenuItem:r,__unstableTarget:`${e}/${t}`,as:te,name:`${e}/plugin-more-menu`,...n}),role:"menuitemcheckbox",selectedIcon:I,name:t,scope:e,...n})}function ne({scope:e,...t}){return(0,c.createElement)(S.Fill,{name:`PinnedItems/${e}`,...t})}ne.Slot=function({scope:e,className:t,...r}){return(0,c.createElement)(S.Slot,{name:`PinnedItems/${e}`,...r},(e=>e?.length>0&&(0,c.createElement)("div",{className:k()(t,"interface-pinned-items")},e)))};var ae=ne;function ie({scope:e,children:t,className:r}){return(0,c.createElement)(S.Fill,{name:`ComplementaryArea/${e}`},(0,c.createElement)("div",{className:r},t))}const oe=Z((function({children:e,className:t,closeLabel:r=(0,b.__)("Close plugin"),identifier:n,header:a,headerClassName:i,icon:o,isPinnable:s=!0,panelClassName:l,scope:u,name:m,smallScreenTitle:g,title:p,toggleShortcut:h,isActiveByDefault:_,showIconLabels:w=!1}){const{isLoading:f,isActive:E,isPinned:v,activeArea:y,isSmall:A,isLarge:x}=(0,d.useSelect)((e=>{const{getActiveComplementaryArea:t,isComplementaryAreaLoading:r,isItemPinned:a}=e(Y),i=t(u);return{isLoading:r(u),isActive:i===n,isPinned:a(u,n),activeArea:i,isSmall:e(N.store).isViewportMatch("< medium"),isLarge:e(N.store).isViewportMatch("large")}}),[n,u]);!function(e,t,r,n,a){const i=(0,c.useRef)(!1),o=(0,c.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:l}=(0,d.useDispatch)(Y);(0,c.useEffect)((()=>{n&&a&&!i.current?(l(e),o.current=!0):o.current&&!a&&i.current?(o.current=!1,s(e,t)):o.current&&r&&r!==t&&(o.current=!1),a!==i.current&&(i.current=a)}),[n,a,e,t,r])}(u,n,y,E,A);const{enableComplementaryArea:W,disableComplementaryArea:T,pinItem:L,unpinItem:P}=(0,d.useDispatch)(Y);return(0,c.useEffect)((()=>{_&&void 0===y&&!A?W(u,n):void 0===y&&A&&T(u,n)}),[y,_,u,n,A]),(0,c.createElement)(c.Fragment,null,s&&(0,c.createElement)(ae,{scope:u},v&&(0,c.createElement)(q,{scope:u,identifier:n,isPressed:E&&(!w||x),"aria-expanded":E,"aria-disabled":f,label:p,icon:w?I:o,showTooltip:!w,variant:w?"tertiary":void 0})),m&&s&&(0,c.createElement)(re,{target:m,scope:u,icon:o},p),E&&(0,c.createElement)(ie,{className:k()("interface-complementary-area",t),scope:u},(0,c.createElement)(Q,{className:i,closeLabel:r,onClose:()=>T(u),smallScreenTitle:g,toggleButtonProps:{label:r,shortcut:h,scope:u,identifier:n}},a||(0,c.createElement)(c.Fragment,null,(0,c.createElement)("strong",null,p),s&&(0,c.createElement)(S.Button,{className:"interface-complementary-area__pin-unpin-item",icon:v?C:B,label:v?(0,b.__)("Unpin from toolbar"):(0,b.__)("Pin to toolbar"),onClick:()=>(v?P:L)(u,n),isPressed:v,"aria-expanded":v}))),(0,c.createElement)(S.Panel,{className:l},e)))}));oe.Slot=function({scope:e,...t}){return(0,c.createElement)(S.Slot,{name:`ComplementaryArea/${e}`,...t})};var se=oe,ce=window.wp.compose;function le({children:e,className:t,ariaLabel:r,as:n="div",...a}){return(0,c.createElement)(n,{className:k()("interface-navigable-region",t),"aria-label":r,role:"region",tabIndex:"-1",...a},e)}const de={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}};var ue=(0,c.forwardRef)((function({isDistractionFree:e,footer:t,header:r,editorNotices:n,sidebar:a,secondarySidebar:i,notices:o,content:s,actions:l,labels:d,className:u,enableRegionNavigation:m=!0,shortcuts:g},p){const h=(0,S.__unstableUseNavigateRegions)(g);!function(e){(0,c.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const _={...{header:(0,b.__)("Header"),body:(0,b.__)("Content"),secondarySidebar:(0,b.__)("Block Library"),sidebar:(0,b.__)("Settings"),actions:(0,b.__)("Publish"),footer:(0,b.__)("Footer")},...d};return(0,c.createElement)("div",{...m?h:{},ref:(0,ce.useMergeRefs)([p,m?h.ref:void 0]),className:k()(u,"interface-interface-skeleton",h.className,!!t&&"has-footer")},(0,c.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&(0,c.createElement)(le,{as:S.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":_.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:de,transition:e?{type:"tween",delay:.8}:void 0},r),e&&(0,c.createElement)("div",{className:"interface-interface-skeleton__header"},n),(0,c.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&(0,c.createElement)(le,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:_.secondarySidebar},i),!!o&&(0,c.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,c.createElement)(le,{className:"interface-interface-skeleton__content",ariaLabel:_.body},s),!!a&&(0,c.createElement)(le,{className:"interface-interface-skeleton__sidebar",ariaLabel:_.sidebar},a),!!l&&(0,c.createElement)(le,{className:"interface-interface-skeleton__actions",ariaLabel:_.actions},l))),!!t&&(0,c.createElement)(le,{className:"interface-interface-skeleton__footer",ariaLabel:_.footer},t))}));var me=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ge({as:e=S.DropdownMenu,className:t,label:r=(0,b.__)("Options"),popoverProps:n,toggleProps:a,children:i}){return(0,c.createElement)(e,{className:k()("interface-more-menu-dropdown",t),icon:me,label:r,popoverProps:{placement:"bottom-end",...n,className:k()("interface-more-menu-dropdown__content",n?.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>i(e)))}var pe=window.wp.blockEditor;function he(e){if("block"===e.id_base){const t=(0,l.parse)(e.instance.raw.content,{__unstableSkipAutop:!0});return t.length?(0,h.addWidgetIdToBlock)(t[0],e.id):(0,h.addWidgetIdToBlock)((0,l.createBlock)("core/paragraph",{},[]),e.id)}let t;return t=e._embedded.about[0].is_multi?{idBase:e.id_base,instance:e.instance}:{id:e.id},(0,h.addWidgetIdToBlock)((0,l.createBlock)("core/legacy-widget",t,[]),e.id)}function _e(e,t={}){let r;var n,a,i;"core/legacy-widget"===e.name&&(e.attributes.id||e.attributes.instance)?r={...t,id:null!==(n=e.attributes.id)&&void 0!==n?n:t.id,id_base:null!==(a=e.attributes.idBase)&&void 0!==a?a:t.id_base,instance:null!==(i=e.attributes.instance)&&void 0!==i?i:t.instance}:r={...t,id_base:"block",instance:{raw:{content:(0,l.serialize)(e)}}};return delete r.rendered,delete r.rendered_form,r}const we="root",fe="sidebar",Ee="postType",be=e=>`widget-area-${e}`,ve=()=>"widget-areas";const ye="core/edit-widgets",ke=(e,t)=>({registry:r})=>{const n=((e,t)=>({id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}))(e,t);return r.dispatch(p.store).receiveEntityRecords(we,Ee,n,{id:n.id},!1),n},Se=()=>async({select:e,dispatch:t,registry:r})=>{const n=e.getEditedWidgetAreas();if(n?.length)try{await t.saveWidgetAreas(n),r.dispatch(v.store).createSuccessNotice((0,b.__)("Widgets saved."),{type:"snackbar"})}catch(e){r.dispatch(v.store).createErrorNotice((0,b.sprintf)((0,b.__)("There was an error. %s"),e.message),{type:"snackbar"})}},Ae=e=>async({dispatch:t,registry:r})=>{try{for(const r of e)await t.saveWidgetArea(r.id)}finally{await r.dispatch(p.store).finishResolution("getEntityRecord",we,fe,{per_page:-1})}},Ie=e=>async({dispatch:t,select:r,registry:n})=>{const a=r.getWidgets(),i=n.select(p.store).getEditedEntityRecord(we,Ee,be(e)),o=Object.values(a).filter((({sidebar:t})=>t===e)),s=[],c=i.blocks.filter((e=>{const{id:t}=e.attributes;if("core/legacy-widget"===e.name&&t){if(s.includes(t))return!1;s.push(t)}return!0})),l=[];for(const e of o){r.getWidgetAreaForWidgetId(e.id)||l.push(e)}const d=[],u=[],m=[];for(let t=0;t<c.length;t++){const r=c[t],i=(0,h.getWidgetIdFromBlock)(r),o=a[i],s=_e(r,o);if(m.push(i),o){n.dispatch(p.store).editEntityRecord("root","widget",i,{...s,sidebar:e},{undoIgnore:!0});if(!n.select(p.store).hasEditsForEntityRecord("root","widget",i))continue;u.push((({saveEditedEntityRecord:e})=>e("root","widget",i)))}else u.push((({saveEntityRecord:t})=>t("root","widget",{...s,sidebar:e})));d.push({block:r,position:t,clientId:r.clientId})}for(const e of l)u.push((({deleteEntityRecord:t})=>t("root","widget",e.id,{force:!0})));const g=(await n.dispatch(p.store).__experimentalBatch(u)).filter((e=>!e.hasOwnProperty("deleted"))),_=[];for(let e=0;e<g.length;e++){const t=g[e],{block:r,position:a}=d[e];i.blocks[a].attributes.__internalWidgetId=t.id;n.select(p.store).getLastEntitySaveError("root","widget",t.id)&&_.push(r.attributes?.name||r?.name),m[a]||(m[a]=t.id)}if(_.length)throw new Error((0,b.sprintf)((0,b.__)("Could not save the following widgets: %s."),_.join(", ")));n.dispatch(p.store).editEntityRecord(we,fe,e,{widgets:m},{undoIgnore:!0}),t(Ce(e)),n.dispatch(p.store).receiveEntityRecords(we,Ee,i,void 0)},Ce=e=>({registry:t})=>{t.dispatch(p.store).saveEditedEntityRecord(we,fe,e,{throwOnError:!0})};function Be(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function Ne(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function xe(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function We(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function Te(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}const Le=()=>({registry:e})=>{e.dispatch(Y).disableComplementaryArea(ye)},Pe=(e,t)=>async({dispatch:r,select:n,registry:a})=>{const i=a.select(pe.store).getBlockRootClientId(e),o=a.select(pe.store).getBlocks().find((({attributes:e})=>e.id===t)).clientId,s=a.select(pe.store).getBlockOrder(o).length;n.getIsWidgetAreaOpen(o)||r.setIsWidgetAreaOpen(o,!0),a.dispatch(pe.store).moveBlocksToPosition([e],i,o,s)},Re=()=>async({dispatch:e,registry:t})=>{const r={per_page:-1},n=[],a=(await t.resolveSelect(p.store).getEntityRecords(we,fe,r)).sort(((e,t)=>"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0));for(const t of a)n.push((0,l.createBlock)("core/widget-area",{id:t.id,name:t.name})),t.widgets.length||e(ke(be(t.id),[]));const i={};n.forEach(((e,t)=>{i[e.clientId]=0===t})),e(Ne(i)),e(ke(ve(),n))},Oe=()=>async({dispatch:e,registry:t})=>{const r={per_page:-1,_embed:"about"},n=await t.resolveSelect(p.store).getEntityRecords("root","widget",r),a={};for(const e of n){const t=he(e);a[e.sidebar]=a[e.sidebar]||[],a[e.sidebar].push(t)}for(const t in a)a.hasOwnProperty(t)&&e(ke(be(t),a[t]))},Me=(0,d.createRegistrySelector)((e=>()=>{const t=e(p.store).getEntityRecords("root","widget",{per_page:-1,_embed:"about"});return t?.reduce(((e,t)=>({...e,[t.id]:t})),{})||{}})),De=(0,d.createRegistrySelector)((e=>(t,r)=>e(ye).getWidgets()[r])),Ve=(0,d.createRegistrySelector)((e=>()=>{const t={per_page:-1};return e(p.store).getEntityRecords(we,fe,t)})),Fe=(0,d.createRegistrySelector)((e=>(t,r)=>e(ye).getWidgetAreas().find((t=>e(p.store).getEditedEntityRecord(we,Ee,be(t.id)).blocks.map((e=>(0,h.getWidgetIdFromBlock)(e))).includes(r))))),Ge=(0,d.createRegistrySelector)((e=>(t,r)=>{const{getBlock:n,getBlockName:a,getBlockParents:i}=e(pe.store);return n(i(r).find((e=>"core/widget-area"===a(e))))})),ze=(0,d.createRegistrySelector)((e=>(t,r)=>{let n=e(ye).getWidgetAreas();return n?(r&&(n=n.filter((({id:e})=>r.includes(e)))),n.filter((({id:t})=>e(p.store).hasEditsForEntityRecord(we,Ee,be(t)))).map((({id:t})=>e(p.store).getEditedEntityRecord(we,fe,t)))):[]})),He=(0,d.createRegistrySelector)((e=>(t,r=null)=>{const n=[],a=e(ye).getWidgetAreas();for(const t of a){const a=e(p.store).getEditedEntityRecord(we,Ee,be(t.id));for(const e of a.blocks)"core/legacy-widget"!==e.name||r&&e.attributes?.referenceWidgetName!==r||n.push(e)}return n})),Ue=(0,d.createRegistrySelector)((e=>()=>{const t=e(ye).getWidgetAreas()?.map((({id:e})=>e));if(!t)return!1;for(const r of t){if(e(p.store).isSavingEntityRecord(we,fe,r))return!0}const r=[...Object.keys(e(ye).getWidgets()),void 0];for(const t of r){if(e(p.store).isSavingEntityRecord("root","widget",t))return!0}return!1})),$e=(e,t)=>{const{widgetAreasOpenState:r}=e;return!!r[t]};function je(e){return!!e.blockInserterPanel}function Ye(e){const{rootClientId:t,insertionIndex:r}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:r}}const Ke=(0,d.createRegistrySelector)((e=>(t,r)=>{const n=e(pe.store).getBlocks(),[a]=n;return e(pe.store).canInsertBlockType(r,a.clientId)}));function Ze(e){return e.listViewPanel}const qe={reducer:E,selectors:o,resolvers:i,actions:a},Qe=(0,d.createReduxStore)(ye,qe);(0,d.register)(Qe),f().use((function(e,t){return 0===e.path?.indexOf("/wp/v2/types/widget-area")?Promise.resolve({}):t(e)}));var Je=window.wp.hooks;const Xe=(0,ce.createHigherOrderComponent)((e=>t=>{const{clientId:r,name:n}=t,{widgetAreas:a,currentWidgetAreaId:i,canInsertBlockInWidgetArea:o}=(0,d.useSelect)((e=>{if("core/widget-area"===n)return{};const t=e(Qe),a=t.getParentWidgetAreaBlock(r);return{widgetAreas:t.getWidgetAreas(),currentWidgetAreaId:a?.attributes?.id,canInsertBlockInWidgetArea:t.canInsertBlockInWidgetArea(n)}}),[r,n]),{moveBlockToWidgetArea:s}=(0,d.useDispatch)(Qe),l="core/widget-area"!==n&&a?.length>1&&o;return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(e,{...t}),l&&(0,c.createElement)(pe.BlockControls,null,(0,c.createElement)(h.MoveToWidgetArea,{widgetAreas:a,currentWidgetAreaId:i,onSelect:e=>{s(t.clientId,e)}})))}),"withMoveToWidgetAreaToolbarItem");(0,Je.addFilter)("editor.BlockEdit","core/edit-widgets/block-edit",Xe);var et=window.wp.mediaUtils;(0,Je.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",(()=>et.MediaUpload));var tt=e=>{const[t,r]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const{ownerDocument:t}=e.current;function n(e){i(e)}function a(){r(!1)}function i(t){e.current.contains(t.target)?r(!0):r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",a),t.addEventListener("dragenter",i),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",a),t.removeEventListener("dragenter",i)}}),[]),t};function rt({id:e}){const[t,r,n]=(0,p.useEntityBlockEditor)("root","postType"),a=(0,c.useRef)(),i=tt(a),o=(0,pe.useInnerBlocksProps)({ref:a},{value:t,onInput:r,onChange:n,templateLock:!1,renderAppender:pe.InnerBlocks.ButtonBlockAppender});return(0,c.createElement)("div",{"data-widget-area-id":e,className:k()("wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper",{"wp-block-widget-area__highlight-drop-zone":i})},(0,c.createElement)("div",{...o}))}const nt=e=>{const[t,r]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const{ownerDocument:t}=e.current;function n(){r(!0)}function a(){r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",a),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",a)}}),[]),t},at={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1,__experimentalParentSelector:!1,__experimentalDisableBlockOverlay:!0},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"},{name:it}=at,ot={title:(0,b.__)("Widget Area"),description:(0,b.__)("A widget area container."),__experimentalLabel:({name:e})=>e,edit:function({clientId:e,className:t,attributes:{id:r,name:n}}){const a=(0,d.useSelect)((t=>t(Qe).getIsWidgetAreaOpen(e)),[e]),{setIsWidgetAreaOpen:i}=(0,d.useDispatch)(Qe),o=(0,c.useRef)(),s=(0,c.useCallback)((t=>i(e,t)),[e]),l=nt(o),u=tt(o),[m,g]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{l?u&&!a?(s(!0),g(!0)):!u&&a&&m&&s(!1):g(!1)}),[a,l,u,m]),(0,c.createElement)(S.Panel,{className:t,ref:o},(0,c.createElement)(S.PanelBody,{title:n,opened:a,onToggle:()=>{i(e,!a)},scrollAfterOpen:!l},(({opened:e})=>(0,c.createElement)(S.__unstableDisclosureContent,{className:"wp-block-widget-area__panel-body-content",visible:e},(0,c.createElement)(p.EntityProvider,{kind:"root",type:"postType",id:`widget-area-${r}`},(0,c.createElement)(rt,{id:r}))))))}};function st({text:e,children:t}){const r=(0,ce.useCopyToClipboard)(e);return(0,c.createElement)(S.Button,{variant:"secondary",ref:r},t)}function ct({message:e,error:t}){const r=[(0,c.createElement)(st,{key:"copy-error",text:t.stack},(0,b.__)("Copy Error"))];return(0,c.createElement)(pe.Warning,{className:"edit-widgets-error-boundary",actions:r},e)}class lt extends c.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,Je.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,c.createElement)(ct,{message:(0,b.__)("The editor has encountered an unexpected error."),error:this.state.error}):this.props.children}}var dt=window.wp.reusableBlocks,ut=window.wp.keyboardShortcuts,mt=window.wp.keycodes;function gt(){const{redo:e,undo:t}=(0,d.useDispatch)(p.store),{saveEditedWidgetAreas:r}=(0,d.useDispatch)(Qe),{replaceBlocks:n}=(0,d.useDispatch)(pe.store),{getBlockName:a,getSelectedBlockClientId:i,getBlockAttributes:o}=(0,d.useSelect)(pe.store),s=(e,t)=>{e.preventDefault();const r=0===t?"core/paragraph":"core/heading",s=i();if(null===s)return;const c=a(s);if("core/paragraph"!==c&&"core/heading"!==c)return;const d=o(s),u="core/paragraph"===c?"align":"textAlign",m="core/paragraph"===r?"align":"textAlign";n(s,(0,l.createBlock)(r,{level:t,content:d.content,[m]:d[u]}))};return(0,ut.useShortcut)("core/edit-widgets/undo",(e=>{t(),e.preventDefault()})),(0,ut.useShortcut)("core/edit-widgets/redo",(t=>{e(),t.preventDefault()})),(0,ut.useShortcut)("core/edit-widgets/save",(e=>{e.preventDefault(),r()})),(0,ut.useShortcut)("core/edit-widgets/transform-heading-to-paragraph",(e=>s(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,ut.useShortcut)(`core/edit-widgets/transform-paragraph-to-heading-${e}`,(t=>s(t,e)))})),null}gt.Register=function(){const{registerShortcut:e}=(0,d.useDispatch)(ut.store);return(0,c.useEffect)((()=>{e({name:"core/edit-widgets/undo",category:"global",description:(0,b.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:(0,b.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,mt.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),e({name:"core/edit-widgets/save",category:"global",description:(0,b.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-widgets/keyboard-shortcuts",category:"main",description:(0,b.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-widgets/next-region",category:"global",description:(0,b.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-widgets/previous-region",category:"global",description:(0,b.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),e({name:"core/edit-widgets/transform-heading-to-paragraph",category:"block-library",description:(0,b.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((t=>{e({name:`core/edit-widgets/transform-paragraph-to-heading-${t}`,category:"block-library",description:(0,b.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${t}`}})}))}),[e]),null};var pt=gt;var ht=()=>(0,d.useSelect)((e=>{const{getBlockSelectionEnd:t,getBlockName:r}=e(pe.store),n=t();if("core/widget-area"===r(n))return n;const{getParentWidgetAreaBlock:a}=e(Qe),i=a(n),o=i?.clientId;if(o)return o;const{getEntityRecord:s}=e(p.store),c=s(we,Ee,ve());return c?.blocks[0]?.clientId}),[]);const _t=!1;var wt=window.wp.privateApis;const{lock:ft,unlock:Et}=(0,wt.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next WordPress release.","@wordpress/edit-widgets"),{ExperimentalBlockEditorProvider:bt}=Et(pe.privateApis);function vt({blockEditorSettings:e,children:t,...r}){const n=(0,p.useResourcePermissions)("media"),{reusableBlocks:a,isFixedToolbarActive:i,keepCaretInsideBlock:o}=(0,d.useSelect)((e=>({widgetAreas:e(Qe).getWidgetAreas(),widgets:e(Qe).getWidgets(),reusableBlocks:_t?e(p.store).getEntityRecords("postType","wp_block"):[],isFixedToolbarActive:!!e(_.store).get("core/edit-widgets","fixedToolbar"),keepCaretInsideBlock:!!e(_.store).get("core/edit-widgets","keepCaretInsideBlock")})),[]),{setIsInserterOpened:s}=(0,d.useDispatch)(Qe),l=(0,c.useMemo)((()=>{let t;return n.canCreate&&(t=({onError:t,...r})=>{(0,et.uploadMedia)({wpAllowedMimeTypes:e.allowedMimeTypes,onError:({message:e})=>t(e),...r})}),{...e,__experimentalReusableBlocks:a,hasFixedToolbar:i,keepCaretInsideBlock:o,mediaUpload:t,templateLock:"all",__experimentalSetIsInserterOpened:s}}),[e,i,o,n.canCreate,a,s]),u=ht(),[m,g,h]=(0,p.useEntityBlockEditor)(we,Ee,{id:ve()});return(0,c.createElement)(ut.ShortcutProvider,null,(0,c.createElement)(pe.BlockEditorKeyboardShortcuts.Register,null),(0,c.createElement)(pt.Register,null),(0,c.createElement)(S.SlotFillProvider,null,(0,c.createElement)(bt,{value:m,onInput:g,onChange:h,settings:l,useSubRegistry:!1,...r},(0,c.createElement)(pe.CopyHandler,null,t),(0,c.createElement)(dt.ReusableBlocksMenuItems,{rootClientId:u}))))}var yt=(0,c.createElement)(A.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"}));var kt=(0,c.createElement)(A.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"}));var St=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),At=window.wp.url,It=window.wp.dom;function Ct({selectedWidgetAreaId:e}){const t=(0,d.useSelect)((e=>e(Qe).getWidgetAreas()),[]),r=(0,c.useMemo)((()=>e&&t?.find((t=>t.id===e))),[e,t]);let n;return n=r?"wp_inactive_widgets"===e?(0,b.__)("Blocks in this Widget Area will not be displayed in your site."):r.description:(0,b.__)("Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer."),(0,c.createElement)("div",{className:"edit-widgets-widget-areas"},(0,c.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},(0,c.createElement)(pe.BlockIcon,{icon:St}),(0,c.createElement)("div",null,(0,c.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,It.safeHTML)(n)}}),0===t?.length&&(0,c.createElement)("p",null,(0,b.__)("Your theme does not contain any Widget Areas.")),!r&&(0,c.createElement)(S.Button,{href:(0,At.addQueryArgs)("customize.php",{"autofocus[panel]":"widgets",return:window.location.pathname}),variant:"tertiary"},(0,b.__)("Manage with live preview")))))}const Bt=c.Platform.select({web:!0,native:!1}),Nt="edit-widgets/block-inspector",xt="edit-widgets/block-areas";function Wt({identifier:e,label:t,isActive:r}){const{enableComplementaryArea:n}=(0,d.useDispatch)(Y);return(0,c.createElement)(S.Button,{onClick:()=>n(Qe.name,e),className:k()("edit-widgets-sidebar__panel-tab",{"is-active":r}),"aria-label":r?(0,b.sprintf)((0,b.__)("%s (selected)"),t):t,"data-label":t},t)}function Tt(){const{enableComplementaryArea:e}=(0,d.useDispatch)(Y),{currentArea:t,hasSelectedNonAreaBlock:r,isGeneralSidebarOpen:n,selectedWidgetAreaBlock:a}=(0,d.useSelect)((e=>{const{getSelectedBlock:t,getBlock:r,getBlockParentsByBlockName:n}=e(pe.store),{getActiveComplementaryArea:a}=e(Y),i=t(),o=a(Qe.name);let s,c=o;return c||(c=i?Nt:xt),i&&(s="core/widget-area"===i.name?i:r(n(i.clientId,"core/widget-area")[0])),{currentArea:c,hasSelectedNonAreaBlock:!(!i||"core/widget-area"===i.name),isGeneralSidebarOpen:!!o,selectedWidgetAreaBlock:s}}),[]);return(0,c.useEffect)((()=>{r&&t===xt&&n&&e("core/edit-widgets",Nt),!r&&t===Nt&&n&&e("core/edit-widgets",xt)}),[r,e]),(0,c.createElement)(se,{className:"edit-widgets-sidebar",header:(0,c.createElement)("ul",null,(0,c.createElement)("li",null,(0,c.createElement)(Wt,{identifier:xt,label:a?a.attributes.name:(0,b.__)("Widget Areas"),isActive:t===xt})),(0,c.createElement)("li",null,(0,c.createElement)(Wt,{identifier:Nt,label:(0,b.__)("Block"),isActive:t===Nt}))),headerClassName:"edit-widgets-sidebar__panel-tabs",title:(0,b.__)("Settings"),closeLabel:(0,b.__)("Close Settings"),scope:"core/edit-widgets",identifier:t,icon:(0,b.isRTL)()?yt:kt,isActiveByDefault:Bt},t===xt&&(0,c.createElement)(Ct,{selectedWidgetAreaId:a?.attributes.id}),t===Nt&&(r?(0,c.createElement)(pe.BlockInspector,null):(0,c.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,b.__)("No block selected."))))}var Lt=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));var Pt=(0,c.createElement)(A.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,c.createElement)(A.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"}));var Rt=function(){const{hasEditedWidgetAreaIds:e,isSaving:t}=(0,d.useSelect)((e=>{const{getEditedWidgetAreas:t,isSavingWidgetAreas:r}=e(Qe);return{hasEditedWidgetAreaIds:t()?.length>0,isSaving:r()}}),[]),{saveEditedWidgetAreas:r}=(0,d.useDispatch)(Qe);return(0,c.createElement)(S.Button,{variant:"primary",isBusy:t,"aria-disabled":t,onClick:t?void 0:r,disabled:!e},t?(0,b.__)("Saving…"):(0,b.__)("Update"))};var Ot=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));var Mt=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));function Dt(){const e=(0,d.useSelect)((e=>e(p.store).hasUndo()),[]),{undo:t}=(0,d.useDispatch)(p.store);return(0,c.createElement)(S.ToolbarButton,{icon:(0,b.isRTL)()?Mt:Ot,label:(0,b.__)("Undo"),shortcut:mt.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Vt(){const e=(0,mt.isAppleOS)()?mt.displayShortcut.primaryShift("z"):mt.displayShortcut.primary("y"),t=(0,d.useSelect)((e=>e(p.store).hasRedo()),[]),{redo:r}=(0,d.useDispatch)(p.store);return(0,c.createElement)(S.ToolbarButton,{icon:(0,b.isRTL)()?Ot:Mt,label:(0,b.__)("Redo"),shortcut:e,"aria-disabled":!t,onClick:t?r:void 0})}var Ft=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}));const Gt=[{keyCombination:{modifier:"primary",character:"b"},description:(0,b.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,b.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,b.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,b.__)("Remove a link.")},{keyCombination:{character:"[["},description:(0,b.__)("Insert a link to a post or page.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,b.__)("Underline the selected text.")},{keyCombination:{modifier:"access",character:"d"},description:(0,b.__)("Strikethrough the selected text.")},{keyCombination:{modifier:"access",character:"x"},description:(0,b.__)("Make the selected text inline code.")},{keyCombination:{modifier:"access",character:"0"},description:(0,b.__)("Convert the current heading to a paragraph.")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,b.__)("Convert the current paragraph or heading to a heading of level 1 to 6.")}];function zt({keyCombination:e,forceAriaLabel:t}){const r=e.modifier?mt.displayShortcutList[e.modifier](e.character):e.character,n=e.modifier?mt.shortcutAriaLabel[e.modifier](e.character):e.character,a=Array.isArray(r)?r:[r];return(0,c.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||n},a.map(((e,t)=>"+"===e?(0,c.createElement)(c.Fragment,{key:t},e):(0,c.createElement)("kbd",{key:t,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},e))))}var Ht=function({description:e,keyCombination:t,aliases:r=[],ariaLabel:n}){return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},e),(0,c.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},(0,c.createElement)(zt,{keyCombination:t,forceAriaLabel:n}),r.map(((e,t)=>(0,c.createElement)(zt,{keyCombination:e,forceAriaLabel:n,key:t})))))};var Ut=function({name:e}){const{keyCombination:t,description:r,aliases:n}=(0,d.useSelect)((t=>{const{getShortcutKeyCombination:r,getShortcutDescription:n,getShortcutAliases:a}=t(ut.store);return{keyCombination:r(e),aliases:a(e),description:n(e)}}),[e]);return t?(0,c.createElement)(Ht,{keyCombination:t,description:r,aliases:n}):null};const $t=({shortcuts:e})=>(0,c.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map(((e,t)=>(0,c.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,c.createElement)(Ut,{name:e}):(0,c.createElement)(Ht,{...e}))))),jt=({title:e,shortcuts:t,className:r})=>(0,c.createElement)("section",{className:k()("edit-widgets-keyboard-shortcut-help-modal__section",r)},!!e&&(0,c.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},e),(0,c.createElement)($t,{shortcuts:t})),Yt=({title:e,categoryName:t,additionalShortcuts:r=[]})=>{const n=(0,d.useSelect)((e=>e(ut.store).getCategoryShortcuts(t)),[t]);return(0,c.createElement)(jt,{title:e,shortcuts:n.concat(r)})};function Kt({isModalActive:e,toggleModal:t}){return(0,ut.useShortcut)("core/edit-widgets/keyboard-shortcuts",t,{bindGlobal:!0}),e?(0,c.createElement)(S.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:(0,b.__)("Keyboard shortcuts"),onRequestClose:t},(0,c.createElement)(jt,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-widgets/keyboard-shortcuts"]}),(0,c.createElement)(Yt,{title:(0,b.__)("Global shortcuts"),categoryName:"global"}),(0,c.createElement)(Yt,{title:(0,b.__)("Selection shortcuts"),categoryName:"selection"}),(0,c.createElement)(Yt,{title:(0,b.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,b.__)("Change the block type after adding a new paragraph."),ariaLabel:(0,b.__)("Forward-slash")}]}),(0,c.createElement)(jt,{title:(0,b.__)("Text formatting"),shortcuts:Gt})):null}const{Fill:Zt,Slot:qt}=(0,S.createSlotFill)("EditWidgetsToolsMoreMenuGroup");Zt.Slot=({fillProps:e})=>(0,c.createElement)(qt,{fillProps:e},(e=>e.length>0&&e));var Qt=Zt;function Jt(){const[e,t]=(0,c.useState)(!1),r=()=>t(!e);(0,ut.useShortcut)("core/edit-widgets/keyboard-shortcuts",r);const n=(0,ce.useViewportMatch)("medium");return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(ge,null,(e=>(0,c.createElement)(c.Fragment,null,n&&(0,c.createElement)(S.MenuGroup,{label:(0,b._x)("View","noun")},(0,c.createElement)(_.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"fixedToolbar",label:(0,b.__)("Top toolbar"),info:(0,b.__)("Access all block and document tools in a single place"),messageActivated:(0,b.__)("Top toolbar activated"),messageDeactivated:(0,b.__)("Top toolbar deactivated")})),(0,c.createElement)(S.MenuGroup,{label:(0,b.__)("Tools")},(0,c.createElement)(S.MenuItem,{onClick:()=>{t(!0)},shortcut:mt.displayShortcut.access("h")},(0,b.__)("Keyboard shortcuts")),(0,c.createElement)(_.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"welcomeGuide",label:(0,b.__)("Welcome Guide")}),(0,c.createElement)(S.MenuItem,{role:"menuitem",icon:Ft,href:(0,b.__)("https://wordpress.org/documentation/article/block-based-widgets-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,b.__)("Help"),(0,c.createElement)(S.VisuallyHidden,{as:"span"},(0,b.__)("(opens in a new tab)"))),(0,c.createElement)(Qt.Slot,{fillProps:{onClose:e}})),(0,c.createElement)(S.MenuGroup,{label:(0,b.__)("Preferences")},(0,c.createElement)(_.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"keepCaretInsideBlock",label:(0,b.__)("Contain text cursor inside block"),info:(0,b.__)("Aids screen readers by stopping text caret from leaving blocks."),messageActivated:(0,b.__)("Contain text cursor inside block activated"),messageDeactivated:(0,b.__)("Contain text cursor inside block deactivated")}),(0,c.createElement)(_.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"themeStyles",info:(0,b.__)("Make the editor look like your theme."),label:(0,b.__)("Use theme styles")}),n&&(0,c.createElement)(_.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"showBlockBreadcrumbs",label:(0,b.__)("Display block breadcrumbs"),info:(0,b.__)("Shows block breadcrumbs at the bottom of the editor."),messageActivated:(0,b.__)("Display block breadcrumbs activated"),messageDeactivated:(0,b.__)("Display block breadcrumbs deactivated")}))))),(0,c.createElement)(Kt,{isModalActive:e,toggleModal:r}))}const{useShouldContextualToolbarShow:Xt}=Et(pe.privateApis);var er=function(){const e=(0,ce.useViewportMatch)("medium"),t=(0,c.useRef)(),r=ht(),n=(0,d.useSelect)((e=>e(Qe).getIsWidgetAreaOpen(r)),[r]),{isInserterOpen:a,isListViewOpen:i}=(0,d.useSelect)((e=>{const{isInserterOpened:t,isListViewOpened:r}=e(Qe);return{isInserterOpen:t(),isListViewOpen:r()}}),[]),{setIsWidgetAreaOpen:o,setIsInserterOpened:s,setIsListViewOpened:l}=(0,d.useDispatch)(Qe),{selectBlock:u}=(0,d.useDispatch)(pe.store),m=(0,c.useCallback)((()=>l(!i)),[l,i]),{shouldShowContextualToolbar:g,canFocusHiddenToolbar:p,fixedToolbarCanBeFocused:h}=Xt(),_=g||p||h;return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"edit-widgets-header"},(0,c.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},e&&(0,c.createElement)("h1",{className:"edit-widgets-header__title"},(0,b.__)("Widgets")),!e&&(0,c.createElement)(S.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},(0,b.__)("Widgets")),(0,c.createElement)(pe.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":(0,b.__)("Document tools"),shouldUseKeyboardFocusShortcut:!_},(0,c.createElement)(S.ToolbarItem,{ref:t,as:S.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:a,onMouseDown:e=>{e.preventDefault()},onClick:()=>{a?s(!1):(n||(u(r),o(r,!0)),window.requestAnimationFrame((()=>s(!0))))},icon:Lt,label:(0,b._x)("Toggle block inserter","Generic label for block inserter button")}),e&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)(Dt,null),(0,c.createElement)(Vt,null),(0,c.createElement)(S.ToolbarItem,{as:S.Button,className:"edit-widgets-header-toolbar__list-view-toggle",icon:Pt,isPressed:i,label:(0,b.__)("List View"),onClick:m})))),(0,c.createElement)("div",{className:"edit-widgets-header__actions"},(0,c.createElement)(Rt,null),(0,c.createElement)(ae.Slot,{scope:"core/edit-widgets"}),(0,c.createElement)(Jt,null))))};var tr=function(){const{removeNotice:e}=(0,d.useDispatch)(v.store),{notices:t}=(0,d.useSelect)((e=>({notices:e(v.store).getNotices()})),[]),r=t.filter((({isDismissible:e,type:t})=>e&&"default"===t)),n=t.filter((({isDismissible:e,type:t})=>!e&&"default"===t)),a=t.filter((({type:e})=>"snackbar"===e));return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(S.NoticeList,{notices:n,className:"edit-widgets-notices__pinned"}),(0,c.createElement)(S.NoticeList,{notices:r,className:"edit-widgets-notices__dismissible",onRemove:e}),(0,c.createElement)(S.SnackbarList,{notices:a,className:"edit-widgets-notices__snackbar",onRemove:e}))};function rr({blockEditorSettings:e}){const t=(0,d.useSelect)((e=>!!e(_.store).get("core/edit-widgets","themeStyles")),[]),r=(0,c.useMemo)((()=>t?e.styles:[]),[e,t]);return(0,c.createElement)("div",{className:"edit-widgets-block-editor"},(0,c.createElement)(tr,null),(0,c.createElement)(pe.BlockTools,null,(0,c.createElement)(pt,null),(0,c.createElement)(pe.__unstableEditorStyles,{styles:r}),(0,c.createElement)(pe.BlockSelectionClearer,null,(0,c.createElement)(pe.WritingFlow,null,(0,c.createElement)(pe.ObserveTyping,null,(0,c.createElement)(pe.BlockList,{className:"edit-widgets-main-block-list"}))))))}var nr=(0,c.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(A.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));var ar=()=>{const e=(0,d.useSelect)((e=>{const{getEntityRecord:t}=e(p.store),r=t(we,Ee,ve());return r?.blocks[0]?.clientId}),[]);return(0,d.useSelect)((t=>{const{getBlockRootClientId:r,getBlockSelectionEnd:n,getBlockOrder:a,getBlockIndex:i}=t(pe.store),o=t(Qe).__experimentalGetInsertionPoint();if(o.rootClientId)return o;const s=n()||e,c=r(s);return s&&""===c?{rootClientId:s,insertionIndex:a(s).length}:{rootClientId:c,insertionIndex:i(s)+1}}),[e])};function ir(){const e=(0,ce.useViewportMatch)("medium","<"),{rootClientId:t,insertionIndex:r}=ar(),{setIsInserterOpened:n}=(0,d.useDispatch)(Qe),a=(0,c.useCallback)((()=>n(!1)),[n]),i=e?"div":S.VisuallyHidden,[o,s]=(0,ce.__experimentalUseDialog)({onClose:a,focusOnMount:null}),l=(0,c.useRef)();return(0,c.useEffect)((()=>{l.current.focusSearch()}),[]),(0,c.createElement)("div",{ref:o,...s,className:"edit-widgets-layout__inserter-panel"},(0,c.createElement)(i,{className:"edit-widgets-layout__inserter-panel-header"},(0,c.createElement)(S.Button,{icon:nr,onClick:a,label:(0,b.__)("Close block inserter")})),(0,c.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},(0,c.createElement)(pe.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:e,rootClientId:t,__experimentalInsertionIndex:r,ref:l})))}function or(){const{setIsListViewOpened:e}=(0,d.useDispatch)(Qe),[t,r]=(0,c.useState)(null),n=(0,ce.useFocusOnMount)("firstElement"),a=(0,ce.useFocusReturn)(),i=(0,ce.useFocusReturn)();return(0,c.createElement)("div",{className:"edit-widgets-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==mt.ESCAPE||t.defaultPrevented||(t.preventDefault(),e(!1))}},(0,c.createElement)("div",{className:"edit-widgets-editor__list-view-panel-header",ref:a},(0,c.createElement)("strong",null,(0,b.__)("List View")),(0,c.createElement)(S.Button,{icon:x,label:(0,b.__)("Close"),onClick:()=>e(!1)})),(0,c.createElement)("div",{className:"edit-widgets-editor__list-view-panel-content",ref:(0,ce.useMergeRefs)([i,n,r])},(0,c.createElement)(pe.__experimentalListView,{dropZoneElement:t})))}function sr(){const{isInserterOpen:e,isListViewOpen:t}=(0,d.useSelect)((e=>{const{isInserterOpened:t,isListViewOpened:r}=e(Qe);return{isInserterOpen:t(),isListViewOpen:r()}}),[]);return e?(0,c.createElement)(ir,null):t?(0,c.createElement)(or,null):null}const cr={header:(0,b.__)("Widgets top bar"),body:(0,b.__)("Widgets and blocks"),sidebar:(0,b.__)("Widgets settings"),footer:(0,b.__)("Widgets footer")};var lr=function({blockEditorSettings:e}){const t=(0,ce.useViewportMatch)("medium","<"),r=(0,ce.useViewportMatch)("huge",">="),{setIsInserterOpened:n,setIsListViewOpened:a,closeGeneralSidebar:i}=(0,d.useDispatch)(Qe),{hasBlockBreadCrumbsEnabled:o,hasSidebarEnabled:s,isInserterOpened:l,isListViewOpened:u,previousShortcut:m,nextShortcut:g}=(0,d.useSelect)((e=>({hasSidebarEnabled:!!e(Y).getActiveComplementaryArea(Qe.name),isInserterOpened:!!e(Qe).isInserterOpened(),isListViewOpened:!!e(Qe).isListViewOpened(),hasBlockBreadCrumbsEnabled:!!e(_.store).get("core/edit-widgets","showBlockBreadcrumbs"),previousShortcut:e(ut.store).getAllShortcutKeyCombinations("core/edit-widgets/previous-region"),nextShortcut:e(ut.store).getAllShortcutKeyCombinations("core/edit-widgets/next-region")})),[]);(0,c.useEffect)((()=>{s&&!r&&(n(!1),a(!1))}),[s,r]),(0,c.useEffect)((()=>{!l&&!u||r||i()}),[l,u,r]);const p=u?(0,b.__)("List View"):(0,b.__)("Block Library"),h=u||l;return(0,c.createElement)(ue,{labels:{...cr,secondarySidebar:p},header:(0,c.createElement)(er,null),secondarySidebar:h&&(0,c.createElement)(sr,null),sidebar:s&&(0,c.createElement)(se.Slot,{scope:"core/edit-widgets"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)(rr,{blockEditorSettings:e})),footer:o&&!t&&(0,c.createElement)("div",{className:"edit-widgets-layout__footer"},(0,c.createElement)(pe.BlockBreadcrumb,{rootLabelText:(0,b.__)("Widgets")})),shortcuts:{previous:m,next:g}})};function dr(){const e=(0,d.useSelect)((e=>{const{getEditedWidgetAreas:t}=e(Qe),r=t();return r?.length>0}),[]);return(0,c.useEffect)((()=>{const t=t=>{if(e)return t.returnValue=(0,b.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),null}function ur(){var e;const t=(0,d.useSelect)((e=>!!e(_.store).get("core/edit-widgets","welcomeGuide")),[]),{toggle:r}=(0,d.useDispatch)(_.store),n=(0,d.useSelect)((e=>e(Qe).getWidgetAreas({per_page:-1})),[]);if(!t)return null;const a=n?.every((e=>"wp_inactive_widgets"===e.id||e.widgets.every((e=>e.startsWith("block-"))))),i=null!==(e=n?.filter((e=>"wp_inactive_widgets"!==e.id)).length)&&void 0!==e?e:0;return(0,c.createElement)(S.Guide,{className:"edit-widgets-welcome-guide",contentLabel:(0,b.__)("Welcome to block Widgets"),finishButtonText:(0,b.__)("Get started"),onFinish:()=>r("core/edit-widgets","welcomeGuide"),pages:[{image:(0,c.createElement)(mr,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,b.__)("Welcome to block Widgets")),a?(0,c.createElement)(c.Fragment,null,(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,b.sprintf)((0,b._n)("Your theme provides %s “block” area for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.","Your theme provides %s different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.",i),i))):(0,c.createElement)(c.Fragment,null,(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,b.__)("You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,c.createElement)("strong",null,(0,b.__)("Want to stick with the old widgets?"))," ",(0,c.createElement)(S.ExternalLink,{href:(0,b.__)("https://wordpress.org/plugins/classic-widgets/")},(0,b.__)("Get the Classic Widgets plugin.")))))},{image:(0,c.createElement)(mr,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,b.__)("Make each block your own")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,b.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,c.createElement)(mr,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,b.__)("Get to know the block library")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,c.createInterpolateElement)((0,b.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,c.createElement)("img",{className:"edit-widgets-welcome-guide__inserter-icon",alt:(0,b.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,c.createElement)(mr,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,b.__)("Learn how to use the block editor")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,b.__)("New to the block editor? Want to learn more about using it? "),(0,c.createElement)(S.ExternalLink,{href:(0,b.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")},(0,b.__)("Here's a detailed guide."))))}]})}function mr({nonAnimatedSrc:e,animatedSrc:t}){return(0,c.createElement)("picture",{className:"edit-widgets-welcome-guide__image"},(0,c.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,c.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}var gr=function({blockEditorSettings:e}){const{createErrorNotice:t}=(0,d.useDispatch)(v.store);return(0,c.createElement)(lt,null,(0,c.createElement)(vt,{blockEditorSettings:e},(0,c.createElement)(lr,{blockEditorSettings:e}),(0,c.createElement)(Tt,null),(0,c.createElement)(S.Popover.Slot,null),(0,c.createElement)(K.PluginArea,{onError:function(e){t((0,b.sprintf)((0,b.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}),(0,c.createElement)(dr,null),(0,c.createElement)(ur,null)))};const pr=["core/more","core/freeform","core/template-part",..._t?[]:["core/block"]];function hr(e,t){const r=document.getElementById(e),n=(0,c.createRoot)(r),a=(0,g.__experimentalGetCoreBlocks)().filter((e=>!(pr.includes(e.name)||e.name.startsWith("core/post")||e.name.startsWith("core/query")||e.name.startsWith("core/site")||e.name.startsWith("core/navigation"))));return(0,d.dispatch)(_.store).setDefaults("core/edit-widgets",{fixedToolbar:!1,welcomeGuide:!0,showBlockBreadcrumbs:!0,themeStyles:!0}),(0,d.dispatch)(l.store).__experimentalReapplyBlockTypeFilters(),(0,g.registerCoreBlocks)(a),(0,h.registerLegacyWidgetBlock)(),(0,h.registerLegacyWidgetVariations)(t),fr(s),(0,h.registerWidgetGroupBlock)(),t.__experimentalFetchLinkSuggestions=(e,r)=>(0,p.__experimentalFetchLinkSuggestions)(e,r,t),(0,l.setFreeformContentHandlerName)("core/html"),n.render((0,c.createElement)(gr,{blockEditorSettings:t})),n}const _r=hr;function wr(){m()("wp.editWidgets.reinitializeEditor",{since:"6.2",version:"6.3"})}const fr=e=>{if(!e)return;const{metadata:t,settings:r,name:n}=e;t&&(0,l.unstable__bootstrapServerSideBlockDefinitions)({[n]:t}),(0,l.registerBlockType)(n,r)}}(),(window.wp=window.wp||{}).editWidgets=n}();
